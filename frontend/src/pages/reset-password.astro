---
import Layout from '@/layouts/Layout.astro';
import { ResetRequestForm } from '@/components/auth/ResetRequestForm';

/**
 * Password Reset Request Page
 * Static page with React island for interactivity
 *
 * Features:
 * - Static generation for fast loading
 * - React island dla ResetRequestForm (client:only)
 * - Email submission form
 * - Rate limiting handling (3 requests per email per hour)
 * - Security: Doesn't reveal if email exists (prevents email enumeration)
 */
---

<Layout
  title="Reset hasła | mkrew"
  description="Zresetuj hasło do swojego konta w platformie mkrew."
  includeNavbar={true}
  includeFooter={true}
>
  <Fragment slot="head">
    <meta name="robots" content="noindex, nofollow" />
  </Fragment>

  <main class="flex-1 flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
      {/* Reset password form card */}
      <div class="bg-white shadow-md rounded-lg p-8">
        {/* Header */}
        <header class="mb-6 text-center">
          <h1 class="text-3xl font-bold text-gray-900 mb-2">
            Zresetuj hasło
          </h1>
          <p class="text-sm text-gray-600">
            Podaj swój adres email, a wyślemy Ci link do resetu hasła
          </p>
        </header>

        {/* Reset Request Form - React island */}
        <ResetRequestForm client:only="react" />

        {/* Back to login link */}
        <div class="mt-6 text-center text-sm">
          <a
            href="/login"
            class="text-blue-600 hover:text-blue-700 hover:underline font-medium"
          >
            ← Powrót do logowania
          </a>
        </div>
      </div>

      {/* Help section */}
      <div class="text-center">
        <p class="text-xs text-gray-500">
          Nie masz konta?{' '}
          <a href="/register" class="underline hover:text-gray-700 font-medium">
            Zarejestruj się
          </a>
        </p>
      </div>
    </div>
  </main>
</Layout>
